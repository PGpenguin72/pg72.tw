---
import { getEntry, render } from "astro:content";
import Markdown from "@components/misc/Markdown.astro";
import { Icon } from "astro-icon/components";
import I18nKey from "../i18n/i18nKey";
import { i18n } from "../i18n/translation";
import MainGridLayout from "../layouts/MainGridLayout.astro";

const linksPost = await getEntry("spec", "links");

if (!linksPost) {
	throw new Error("Links page content not found");
}

const { Content } = await render(linksPost);

const links = [
	{
		name: "GitHub",
		icon: "fa6-brands:github",
		url: "https://github.com/PGpenguin72",
		handle: "PGpenguin72",
		meta: ["目前所有的開源專案"],
	},
	{
		name: "Email",
		icon: "fa6-solid:envelope",
		url: "mailto:hi@pg72.tw",
		handle: "hi@pg72.tw",
		meta: ["有問題都可以直接聯繫喔"],
	},
	{
		name: "Discord",
		icon: "fa6-brands:discord",
		url: "https://discord.com/users/609189792571457550",
		handle: "pg_penguin_72",
		meta: ["長年活躍在這裡"],
	},
	{
		name: "Instagram",
		icon: "fa6-brands:instagram",
		url: "https://www.instagram.com/pg_penguin_72/",
		handle: "@pg_penguin_72",
		meta: ["就...IG啊"],
	},
	{
		name: "Threads",
		icon: "fa6-brands:threads",
		url: "https://www.threads.com/@pg_penguin_72",
		handle: "@pg_penguin_72",
		meta: ["就脆啊:D"],
	},
	{
		name: "YouTube",
		icon: "fa6-brands:youtube",
		url: "https://www.youtube.com/@pg_penguin_72",
		handle: "PG企鵝",
		meta: ["一個沒流量的頻道"],
	},
	{
		name: "YouTube",
		icon: "fa6-brands:youtube",
		url: "https://www.youtube.com/@FX24H_EarthQuake.Record",
		handle: "FX24小時地震紀錄",
		meta: ["就一個地震直播啊"],
	},
	{
		name: "Bilibili",
		icon: "simple-icons:bilibili",
		url: "https://space.bilibili.com/1734968726",
		handle: "PG企鹅",
		meta: ["主要看視頻的平台"],
	},
	{
		name: "Retro",
		icon: "fa6-solid:camera-retro",
		image: "/icons/retro.png",
		url: "https://retro.app/@pg_penguin_72",
		handle: "pg_penguin_72",
		meta: ["分享日常的地方"],
	},
	{
		name: "Simkl",
		icon: "simple-icons:simkl",
		url: "https://simkl.com/8174475/",
		handle: "PGpenguin72",
		meta: ["可以知道我都在看啥動漫電影喔"],
	},
	{
		name: "Steam",
		icon: "fa6-brands:steam",
		url: "https://steamcommunity.com/id/PGpenguin72/",
		handle: "PGpenguin72",
		meta: ["只有一點遊戲而已:("],
	},
	{
		name: "Xbox",
		icon: "fa6-brands:xbox",
		url: "https://www.xbox.com/zh-TW/play/user/penguin5325",
		handle: "penguin5325",
		meta: ["還蠻想改ID的但好貴:("],
	},
	{
		name: "Apple Music",
		icon: "simple-icons:applemusic",
		url: "https://music.apple.com/profile/PGpenguin72",
		handle: "PGpenguin72",
		meta: ["用來聽歌的軟件"],
	},
	{
		name: "Spotify",
		icon: "fa6-brands:spotify",
		url: "https://open.spotify.com/user/317hugwguisn3cjwahtkhqsc7gxu?si=bfa3711b436d4624",
		handle: "企鵝",
		meta: ["一個沒有用在用的平台(?"],
	},
	{
		name: "Facebook",
		icon: "fa6-brands:facebook",
		url: "https://www.facebook.com/pgpenguin72",
		handle: "企鵝",
		meta: ["一個老人平台"],
	},
	{
		name: "LINE",
		icon: "simple-icons:line",
		url: "https://line.me/ti/p/3qCE7EMURS",
		handle: "pg_penguin_72",
		meta: ["其實很少用這平台哈"],
	},
	{
		name: "Wikipedia",
		icon: "simple-icons:wikipedia",
		url: "https://zh.wikipedia.org/wiki/User:PGpenguin72",
		handle: "PGpenguin72",
		meta: ["一個維基百科的鏈結"],
	},
	{
		name: "LinkedIn",
		icon: "fa6-brands:linkedin",
		url: "https://www.linkedin.com/in/%E6%98%B1%E5%8F%A1-%E6%9D%9C-2658443a9/",
		handle: "杜昱叡",
		meta: ["啊這個沒在用，反正就註冊看看"],
	},
	{
		name: "WeChat",
		icon: "simple-icons:wechat",
		url: "https://u.wechat.com/kAKmgLTrKDw3TWW1eKU-KfI?s=2",
		handle: "PGpenguin72",
		meta: ["去中國的時候很好用:D"],
	},
	{
		name: "QQ",
		icon: "simple-icons:qq",
		url: "https://qm.qq.com/q/kfM0W1bYgo",
		handle: "3110348258",
		meta: ["QQ家的都是一些酷群組喔～"],
	},
	{
		name: "Telegram",
		icon: "fa6-brands:telegram",
		url: "https://t.me/PGpenguin72",
		handle: "PGpenguin72",
		meta: ["是小飛機喔:D"],
	},
	{
		name: "Twitter",
		icon: "fa6-brands:twitter",
		url: "https://twitter.com/PGpenguin72",
		handle: "@PGpenguin72",
		meta: ["用來看點...酷酷的東東"],
	},
	{
		name: "Twitch",
		icon: "fa6-brands:twitch",
		url: "https://www.twitch.tv/pg_penguin_72",
		handle: "pg_penguin_72",
		meta: ["沒有在上面開過台說實話"],
	},
	{
		name: "Pixiv",
		icon: "simple-icons:pixiv",
		url: "https://www.pixiv.net/users/82048736",
		handle: "82048736",
		meta: ["神奇的小p站"],
	},
	
];
---
<MainGridLayout title={i18n(I18nKey.links)} description={i18n(I18nKey.links)}>
	<div class="flex w-full rounded-[var(--radius-large)] overflow-hidden relative min-h-32">
		<div class="card-base z-10 px-9 py-6 relative w-full ">
			<Markdown class="mt-2">
				<Content />
			</Markdown>
			<div class="grid grid-cols-1 sm:grid-cols-2 gap-4 mt-6">
				{links.map((item) =>
					item.url ? (
						<a
							rel="me"
							aria-label={item.name}
							href={item.url}
							target="_blank"
							class="group block w-full card-base rounded-2xl border border-black/5 dark:border-white/10 transition hover:bg-[var(--btn-card-bg-hover)] active:bg-[var(--btn-card-bg-active)] text-[var(--card-text)]"
						>
							<div class="flex items-center gap-4 px-5 py-4">
								<div class="btn-regular rounded-xl h-12 w-12 shrink-0 grid place-items-center">
									{item.image ? (
										<img
											src={item.image}
											alt={item.name}
											class="h-7 w-7 object-contain rounded-lg bg-transparent"
											loading="lazy"
										/>
									) : (
										<Icon name={item.icon} class="text-[1.6rem]"></Icon>
									)}
								</div>
								<div class="min-w-0">
									<div class="font-semibold text-lg leading-tight">{item.name}</div>
									{item.handle && (
										<div class="text-sm text-[var(--card-text-muted)] truncate">
											{item.handle} →
										</div>
									)}
									{item.meta?.map((line) => (
										<div class="text-sm text-[var(--card-text-muted)] truncate">
											{line}
										</div>
									))}
								</div>
							</div>
						</a>
					) : (
						<div class="group block w-full card-base rounded-2xl border border-black/5 dark:border-white/10 text-[var(--card-text)]">
							<div class="flex items-center gap-4 px-5 py-4">
								<div class="btn-regular rounded-xl h-12 w-12 shrink-0 grid place-items-center">
									{item.image ? (
										<img
											src={item.image}
											alt={item.name}
											class="h-7 w-7 object-contain rounded-lg bg-transparent"
											loading="lazy"
										/>
									) : (
										<Icon name={item.icon} class="text-[1.6rem]"></Icon>
									)}
								</div>
								<div class="min-w-0">
									<div class="font-semibold text-lg leading-tight">{item.name}</div>
									{item.handle && (
										<div class="text-sm text-[var(--card-text-muted)] truncate">
											{item.handle}
										</div>
									)}
									{item.meta?.map((line) => (
										<div class="text-sm text-[var(--card-text-muted)] truncate">
											{line}
										</div>
									))}
								</div>
							</div>
						</div>
					),
				)}
			</div>
		</div>
	</div>
</MainGridLayout>
